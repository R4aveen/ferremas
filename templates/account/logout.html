{% extends "base.html" %}

{% load i18n %}
{% load static %}

{% block head_title %}{% trans "Sign Out" %}{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock css %}

{% block contenido %}
    <div class="card">
        <div class="mt-3" style="display: flex; align-items: center; justify-content: center;">
           <img src="https://img.icons8.com/?size=250&id=110469&format=png&color=000000" alt=""> 
          </div>
        <h2 class="text-center txt my-3">{% trans "Cerrar sesión" %}</h2>
        <p>{% trans '¿Estás seguro de que quieres cerrar sesión?' %}</p>
        <form method="post" action="{% url 'account_logout' %}" id="logout-form">
            {% csrf_token %}
            {% if redirect_field_value %}
                <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
            {% endif %}
            <button type="submit" id="logout-btn" class="btnes btn-primary my-4"><img src="https://img.icons8.com/?size=30&id=110469&format=png&color=000000" alt="">{% trans 'Cerrar sesión' %}</button>
        </form>
    </div>
{% endblock contenido %}

{% block js %}
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.getElementById('logout-form').addEventListener('submit', function(event) {
            event.preventDefault();
            Swal.fire({
                title: '¿Estás seguro?',
                text: "¿Quieres cerrar sesión?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Sí, cerrar sesión',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    event.target.submit();
                }
            });
        });
    </script>
{% endblock js %}
